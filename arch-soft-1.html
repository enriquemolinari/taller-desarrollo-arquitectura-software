<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Arquitectura de Software - Conceptos Fundamentales</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/white.css" />
    <link rel="stylesheet" href="plugin/simplemenu/simplemenu.css" />
    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
    <link rel="stylesheet" href="plugin/title-footer/title-footer.css" />

    <style>
      ul.arrow {
        font-size: 24pt;
        line-height: 1.5em;
        margin: 5px 0 15px;
        padding: 0;
        color: var(--r-main-color)
      }
      ul.arrow li {
        list-style: none;
        position: relative;
        padding: 0 0 0 30px;
      }

      ul.arrow li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 20px;
        height: 10px;
        width: 10px;
        border: 1px solid #ff6600;
        border-width: 2px 2px 0 0;
        transform: rotate(45deg);
      }

      div.line {
        border-bottom: 1px solid;
        border-color: lightgray;
      }

      .box3 {
        /*width: 720px;
        padding: 15px;
        margin-left: 100px;*/
        padding-left: 5px;
        padding-right: 5px;
        background-color: #4a4e69;
        color: white;
        font-size: 50pt;
        font-weight: bold;
      }

      .box2 {
        width: 720px;
        padding: 15px;
        margin-left: 100px;
        background-color: #4a4e69;
        color: white;
        font-size: 50pt;
        font-weight: bold;
      }

      .box {
        width: 720px;
        /*border: 15px solid green;*/
        padding: 15px;
        margin: 2px;
        background-color: #4a4e69;
        color: white;
        font-size: 50pt;
        font-weight: bold;
        /*font-family: 'Times New Roman', Times, serif;*/
      }

      .portada .subtitulo {
        color: lightgray;
      }

      .autor {
        /*font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;*/
        font-size: 15pt;
      }

      .fechahoy {
        color: gray;
      }
      .titulo {

        font-size: 50pt;
      }

      .resaltar {
        color: #4a4e69;
      }

      p.chico {
        font-size: 24pt;
      }

      span.itali {
        font-family: cursive;
      }

      p.maschico {
        font-size: 20pt;
      }

      p.maschicoYalineadoIzq {
        font-size: 12pt;
        text-align: left;
      }

      p.chicoYalineadoIzq {
        font-size: 24pt;
        text-align: left;
      }

      .reveal .slide-number {
        background-color: white;
        color: black;
      }

      .reveal .footer {
        position: absolute;
        bottom: 1em;
        left: 1em;
        font-size: 0.5em;
        color: gray;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="footer">
        Arquitectura de Software - Conceptos Fundamentales
      </div>
      <div class="menubar line">
        <div class="slide-number"></div>
        <ul class="menu">
          <li><a href="#/def">¿Arquitectura de Software?</a></li>
          <li><a href="#/def2">Nuestra Definición</a></li>
          <!--         <li><a href="#/arqvsde">Diseño vs Arquitectura</a></li> -->
<!--           <li><a href="#/estru">¿Cómo Estructuramos un Sistema?</a></li> -->
<!--           <li><a href="#/vis">Visualización</a></li>
          <li><a href="#/styles">Estilos de Arquitectura</a></li> -->
          <li><a href="#/estilos1">Estilos de Organización Lógica</a></li>
          <li><a href="#/estilos2">Estilos de Organización Física</a></li>
          <!--           <li><a href="#/dist">Arq. Distribuídas</a></li> -->
          <!--         <li><a href="#/atri">Atributos de Calidad</a></li> -->
        </ul>
        <div class="placeholder"></div>
      </div>
      <div class="slides">
        <section
          style="text-align: left"
          data-transition="fade"
          data-state="hide-menubar no-title-footer"
        >
          <div class="box">
            <span>Arquitectura de Software</span>
          </div>
          <div class="smallbox">Conceptos Fundamentales</div>
          <p class="autor">ENRIQUE MOLINARI</p>
          <p id="hoy" class="autor fechahoy"></p>
        </section>
        <section id="def">
          <h2><img src="/imgs/the-matrix-the-architect.jpg" /></h2>
          "I'm the Architect, I created The Matrix"
        </section>
        <section id="def">
          <p class="titulo">
            ¿Qué entendemos por <br />
            <span class="titulo resaltar">Arquitectura de Sofware</span>?
          </p>

          <p class="fragment">Veamos algunas definiciones...</p>
        </section>

        <!--         <html>
          <p style="text-align:center; font-size:0.9em;color: #A9A9A9">&#60;&#60;Interface&#62;&#62;</p>
          <p>UserService</p>
          </html> -->

        <section id="def" data-auto-animate>
          <p class="chico fragment">
            Technical Report: <span class="resaltar">An Introduction to Software Architecture (Shaw y
            Garlan, 1994)</span>
          </p>
          <p class="chico fragment">
            As the size and complexity of software systems increases, the design
            problem goes beyond the algorithms and data structures of the
            computation:
            <span class="fragment highlight-red"
              >designing and specifying the overall system structure</span
            >
            emerges as a new kind of problem.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico">
            Technical Report: An Introduction to Software Architecture (Shaw y
            Garlan, 1994)
          </p>
          <p class="chico">
            Structural issues includes: protocols for communication,
            synchronization and data access; assignment of functionality to
            <span class="fragment highlight-red">design elements</span>;
            <span class="fragment highlight-red">physical</span> distribution;
            composition of design elements;
            <span class="fragment highlight-red">scaling</span> and performance;
            and selection among design alternatives.
            <span class="fragment highlight-blue"
              >This is the software architecture level of design</span
            >
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">Grady Booch</p>
          <p class="chico fragment">All architecture is design, but not all design is architecture</p>
          <p class="chico fragment">
            Architecture represents the
            <span class="fragment highlight-red"
              >significant design decisions</span
            >
            that <span class="fragment highlight-red">shape</span> a system,
            where significant is measured by
            <span class="fragment highlight-red"> cost of change</span>.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Grady Booch</p>
          <p class="chico">All architecture is design, but not all design is architecture</p>
          <p class="chico">
            Architecture represents the
            <span class="fragment highlight-red" data-fragment-index="0"
              >significant design decisions</span
            >
            that
            <span class="fragment highlight-red" data-fragment-index="0"
              >shape</span
            >
            a system, where significant is measured by
            <span class="fragment highlight-red" data-fragment-index="0">
              cost of change</span
            >.
          </p>
          <img src="imgs/grady.png" width="190" height="264" />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">
            Software Architecture in Practice (3era Edición, 2012)
          </p>

          <p class="chico fragment">
            The software architecture of a system is the set of
            <span class="fragment highlight-red">structure</span> needed to
            reason about the system, which comprises
            <span class="fragment highlight-red">software elements</span>,
            relations among them, and properties of both.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">
            Software Architecture in Practice (3era Edición, 2012)
          </p>

          <p class="chico">
            The software architecture of a system is the set of
            <span class="fragment highlight-red" data-fragment-index="0"
              >structure</span
            >
            needed to reason about the system, which comprises
            <span class="fragment highlight-red" data-fragment-index="0"
              >software elements</span
            >, relations among them, and properties of both.
          </p>
          <img
            src="imgs/software-arch-in-practice.png"
            width="269"
            height="362"
          />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">
            Bob Martin (Clean Architecture Book, 2017)
          </p>

          <p class="chico fragment">
            Software architecture is the art of drawing lines that I call
            <span class="fragment highlight-red">boundaries</span>. Those
            boundaries separate
            <span class="fragment highlight-red">software elements</span> from
            one another, and restrict those on one side from knowing about those
            on the other.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Bob Martin (Clean Architecture Book, 2017)</p>

          <p class="chico">
            Software architecture is the art of drawing lines that I call
            <span class="fragment highlight-red" data-fragment-index="0"
              >boundaries</span
            >. Those boundaries separate
            <span class="fragment highlight-red" data-fragment-index="0"
              >software elements</span
            >
            from one another, and restrict those on one side from knowing about
            those on the other.
          </p>
          <img src="imgs/clean-arch-book.png" width="262" height="364" />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">Ralph Johnson</p>

          <p class="chico fragment">
            Architecture is about the
            <span class="fragment highlight-red" data-fragment-index="0"
              >important stuff</span
            >. Whatever that is.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Ralph Johnson</p>

          <p class="chico">
            Architecture is about the
            <span class="fragment highlight-red" data-fragment-index="0"
              >important stuff</span
            >. Whatever that is.
          </p>
          <img src="imgs/ralph.png" />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">Martin Fowler (2002)</p>

          <p class="chico fragment">
            The software industry delights in taking words and stretching them
            into a myriad of subtly contradictory meanings. One of the biggest
            sufferers is "architecture". I tend to look at “architecture” as one
            of those impressive-sounding words, used primarily to indicate that
            we’re talking something that’s important. But I’m pragmatic enough
            not to let my cynicism get in the way of attracting people to my
            book. :-).
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Martin Fowler (2002)</p>

          <p class="chico fragment">
            “Architecture” is a term that lots of people try to deﬁne, with
            little agreement. There are two common elements: One is the
            highest-level breakdown of a system into its parts; the other,
            decisions that are hard to change.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Martin Fowler (2002)</p>

          <p class="chico fragment">
            It’s also increasingly realized that there isn’t just one way to
            state a system’s architecture; rather, there are multiple
            architectures in a system, and the view of what is architecturally
            signiﬁcant is one that can change over a system’s lifetime.
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">Martin Fowler (2002)</p>

          <p class="chico">
            It’s also increasingly realized that there isn’t just one way to
            state a system’s architecture; rather, there are multiple
            architectures in a system, and the view of what is architecturally
            signiﬁcant is one that can change over a system’s lifetime.
          </p>
          <img src="imgs/patterns-arch-fowler.png" width="229" height="322" />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico fragment resaltar">
            Software Architecture Fundamentals (2020)
          </p>

          <p class="chico fragment">
            The industry as a whole has struggled to precisely define "software
            architecture". Some architects refer to software architecture as the
            blueprint of the system. The issue with these common definitions is
            understanding what the blueprint actually contains.
          </p>
          <p class="chico fragment">What is analyzed when an architect analyzes an architecture?</p>
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">
            Software Architecture Fundamentals (2020)
          </p>

          <p class="chico">
            Software architecture consists of the
            <span class="fragment highlight-red" data-fragment-index="0"
              >structure of the system</span
            >, combined with
            <span class="fragment highlight-red" data-fragment-index="1"
              >architecture characteristics</span
            >
            the system must support,
            <span class="fragment highlight-red" data-fragment-index="2"
              >architecture decisions</span
            >, and finally
            <span class="fragment highlight-red" data-fragment-index="3"
              >design principles</span
            >.
          </p>
          <img class="fragment"
            src="imgs/software-arch-fundamentals.png"
            width="229"
            height="322"
          />
        </section>

        <section id="def" data-auto-animate>
          <p class="chico resaltar">
            Software Architecture Fundamentals (2020)
          </p>
          <ul class="arrow">
            <li>
              <p class="chico"><b>Structure of the system</b>: The architecture style (Layered,
              Modular, etc).</p>
            </li>
            <li>
              <p class="chico"><b>Architecture characteristics</b>: También conocidos como
              Quality Atributes o Requerimientos No Funcionales. Ejemplo: Scalability.</p>
            </li>
            <li>
              <p class="chico"><b>Architecture decisions</b>: Ejemplo: Solo la capa de negocios puede
              hablar con la capa de persistencia.</p>
            </li>
            <li>
              <p class="chico"><b>Design Principles</b>: Consejos (guidelines) mas que reglas que
              debemos respetar. Por ejemplo, utilzación de comunicación
              asíncrona por sobre la síncrona.</p>
            </li>
          </ul>
          </p>
        </section>

        <section id="def" data-auto-animate>
          <p class="titulo resaltar">
            ¿Mareados?
          </p>
          <p class="fragment">
            Arquitectura de Software es lo que Uds decidan, segun que autor les gusta más. 
          </p>
          <p class="fragment">
            ¿Quizas representa muchas cosas y por eso cuesta encontrar una única definición?
          </p>
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            ¿Qué decimos que es en esta materia?
          </p>
          <ul class="arrow">
            <li class="fragment">Tiene que ver con cómo <b>estructuramos</b> u <b>organizamos</b> el sistema a nivel <u>lógico</u> y a nivel <u>físico</u>.</li>
            <li class="fragment"><b>Estructuramos</b> u <b>organizamos</b> un sistema identificando sus <b>elementos</b> y especificando como se <b>relacionan</b> entre ellos.</li>
          </ul>
          </p>
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            ¿Qué decimos que es en esta materia?
          </p>
          <ul class="arrow">
            <li class="fragment">A nivel <u>lógico</u> (Arquitectura Lógica) tenemos elementos de software como las funciones, métodos, clases, los paquetes, lo módulos, las capas (layers). Se comunican de la forma in-process.</li>
            <li class="fragment">A nivel <u>físico</u> (Arquitectura Física) tenemos elementos en runtime (procesos), y la forma en que los deployamos en HW. Sé comunican de la forma inter-process. </li>
          </ul>
          </p>
        </section>


        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            ¿Qué decimos que es en esta materia?
          </p>
          <ul class="arrow">
            <li class="fragment"><b>Estructuramos</b> u <b>organizamos</b> un sistema de cierta forma con el objetivos de cumplir con <b>Atributos de Calidad</b> específicos (modificabilidad, escalabilidad, disponibilidad, seguridad, etc).</li>
            <li class="fragment">Finalmente, a dicha estructura le agregamos <b>desiciones de arquitectura</b> (o design decisions) que debemos garantizar sean cumplidas.</li>
          </ul>
          </p>
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            Ilustremos ésta definición
          </p>
          <ul class="arrow">
            <li class="fragment">Supongamos una aplicación Web con un back-end Web en SpringBoot y un front-end en React.</li>
            <li class="fragment">Con eso ya tenemos nuestra primera definición de <u>arquitectura física</u>.</li>
            <li class="fragment">Atributo de Calidad: <u>Modificabilidad</u>. Me permite distribuir desarrollo de front-end vs back-end y avanzar en paralelo sin grandes pérdidas de tiempo en comunicación entre equipos. </li>
          </ul>
          </p>
        </section>

        <section id="def2" data-transition="fade-out">
          <p class="titulochico">Arquitectura Física</p>
          <img src="imgs/def-arq-ilustracion-1.png" />
        </section>

        <section id="def2" data-transition="fade-in">
          <p class="titulochico">Arquitectura Física</p>
          <img src="imgs/def-arq-ilustracion-2.png" />
        </section>

        <section id="def2" data-transition="fade-out">
          <p class="titulochico">Arquitectura Física (Deployment)</p>
          <img src="imgs/def-arq-ilustracion-3.png" />
        </section>

        <section id="def2" data-transition="fade-in">
          <p class="titulochico">Arquitectura Física (Deployment, opción 2)</p>
          <img src="imgs/def-arq-ilustracion-3-1.png" />
        </section>

        <section id="def2" data-transition="fade-out">
          <img src="imgs/def-arq-ilustracion-3-1.png" />
          <p class="maschico">Atributo de Calidad: <u>Escalabilidad</u>. Me permite escalar (asignar mas HW) en forma independiente.</p>
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            Ilustremos ésta definición
          </p>
          <ul class="arrow">
            <li class="fragment">¿Y qué organización lógica le quiero dar a mi back-end?</li>
            <li class="fragment">La más simple y conocida por todos: <u>capas</u>.</li>
          </ul>
          <img class="fragment" src="imgs/def-arq-ilustracion-4.png" />
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            Ilustremos ésta definición
          </p>
          <ul class="arrow">
            <li class="fragment">Con esta organización lógica ya tenemos la primer <u>decisión de arquitectura</u> que debemos cumplir.</li>
            <li class="fragment">Las dependencies entre las capas. Controller no puede acceder directamente a la capa de Acceso a Datos.</li>
          </ul>
        </section>

        <section id="def2" data-auto-animate>
          <p class="titulo resaltar">
            Arquitectura de Software: repasemos
          </p>
          <ul class="arrow">
            <li class="fragment">Estructura u organización física: Procesos (aplicaciones en runtime) y Deployment</li>
            <li class="fragment">Estructura u organización lógica: Capas, Módulos (paquetes en Java, las clases tienen mucho detalle)</li>
            <li class="fragment">Organizamos los elementos de una arquitectura para cumplir ciertos <u>atributos de calidad</u>.</li>
            <li class="fragment">Definimos <u>Decisiones de Arquitectura</u> que debemos cumplir.</li>
          </ul>
        </section>

        <!-- Sistemas Homogeneos (monoliticos principalmente)-->
        <!-- Sistemas Heterogeneos (SOA o Microservicios principalmente, diferentes lenguajes, BDs, etc)-->

        <section id="estilos1">
          <div class="box2">Organización Lógica</div>
          <p>
            Estilos y posibilidades conocidas para la organización lógica.
          </p>
        </section>

        <section id="estilos1">
          <p class="titulo resaltar">Organización Lógica</p>
          <p class="chico">
            ¿Por qué debemos preocuparnos por <u>organizar</u> el código de una aplicación?
          </p>
          <ul class="arrow">
          <li class="fragment">Sin ningun tipo de organización definida con el tiempo dejamos de tener noción de que parte del sistema afectamos cuando hacemos un cambio. Supera ampliamente nuestra capacidad cognitiva.</li>
          <li class="fragment">
            La organización entonces tiene que ver con <u>partir</u> la aplicación en "pequeñas aplicaciones" más simples, idealmente que puedan caber en nuestra capacidad cognitiva. 
          </li>
          <li class="fragment">
            También necesitamos definir como éstas "pequeñas aplicaciones" se <u>relacionan</u> o se <u>comunican</u> entre ellas.
          </li>
<!--           <li class="fragment">
            "Pequeñas aplicaciones": Capas, módulos, sub-sistemas.
            </li> -->
        </ul>
        </section>

        <section id="estilos1">
          <p class="titulo resaltar">Organización Lógica</p>
          <ul class="arrow">
            <li class="fragment">"Pequeñas aplicaciones": Capas, módulos, sub-sistemas.</li>
            <li class="fragment">¿Existe en Java la keyword Layer?, ¿module? ¿sub-sistema?</li>
            <li class="fragment"><b>Debemos</b> encontrar en el lenguaje de programación
              que utilicemos, que abstracción (estructura sintáctica) podemos
              utilizar para crear éstas partes. <u>Las clases tienen demasiado detalle</u></li>
              <li class="fragment">¿Cuáles son las opciones en Java?</li>
              <li class="fragment">Desde Java v1, los <u>paquetes</u>. Java v9 incorporó la
              construcción sintáctica <u>module</u>.</li>  
          </ul>
        </section>

        <section id="estilos1">
          <p class="titulo resaltar">Organización Lógica</p>
          <p class="fragment">
            Ok. Tenemos los paquetes para estructurar una aplicación. ¿Qué alternativas o estilos tengo?    
          </p>
        </section>

 <!--       <section id="estilos1">
          <p class="titulochico">Estructuras de Componentes o Módulos</p>
          <p class="fragment">
            Además, ni bien abro un proyecto tengo que ver su estructura bien clara. Debe ser <b>evidente</b> que estilo de arquitectura hemos elegido.
          </p>
        </section>-->
<!--
        <section id="estilos1">
          <p class="titulochico"><a href="http://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html">Screaming the Architecture</a></p>
          <p>"When you look at the top level directory structure, and the source files in the highest level package; what does they scream?" (by Robert C. Martin)</p>          
          <img src="imgs/unclebob.png" />
        </section>
      -->
<!--        <section id="estilos1">
          <p class="titulomaschico">¿Es claro?</p>
          <img src="imgs/no-evidente.png" />
          <p class="fragment maschico"><b>"auth"</b> término funcional mezclado con capas horizontales. 
          <span class="fragment maschico"><b>"exception"</b> ¿es de alguna capa? ¿cuál?. </span> 
          <span class="fragment maschico"><b>"generic"</b> ¿es de alguna capa? ¿o de todo el sistema?</span>
          </p> 
        </section>
-->
<!--       <section id="estilos1">
          <p class="titulochico">Architecturally Evident Coding Style</p>
          <img src="imgs/george-book.jpg" />
        </section>
      -->

      <section id="estilos1" data-transition="fade-out fade-in">
        <p class="titulochico">Layered Architecture</p>
        <img src="imgs/layer-bigball0.png" />
        <p class="fragment">Partición Horizontal - Respecto de la tecnología</p>
      </section>

      <section id="estilos1">
        <p class="titulomaschico">Package by Layers Clásica</p>
        <img src="imgs/layers-clasica-1.png" />
      </section>

        <section id="estilos1">
          <p class="titulomaschico">Package by Layers Clásica</p>
          <img src="imgs/package-layers.png" />
        </section>

        <section id="estilos1">
          <p class="titulochico">Package by Layers (con modelo compartido)</p>
          <img src="imgs/package-layer-shared-model.png" />
        </section>

        <section id="estilos1" data-transition="fade-out fade-in">
          <p class="titulochico">Potencial Problema con Layered Architecture</p>
          <img src="imgs/layer-bigball0.png" />
          <p class="chico fragment">El problema es que con el tiempo suele pasar esto...</p>
        </section>
   
        <section id="estilos1" data-transition="fade-out fade-in">
          <p class="titulochico">Potencial Problema con Layered Architecture</p>
          <img src="imgs/layer-bigball1.png" />
          <p class="chico">¿y... acá? Pierdo noción...</p>
        </section>

        <section id="estilos1" data-transition="fade-out fade-in">
          <p class="titulochico">Potencial Problema con Layered Architecture</p>
          <img src="imgs/by-feature1.png" />
          <p class="chico">¿y si primero parto en forma vertical?</p>
        </section>

    <!--    <section id="estilos1" data-transition="fade-out fade-in">
          <p class="titulochico">Potencial Problema con Layered Architecture</p>
          <img src="imgs/by-feature2.png" />
          <p class="chico">y si...</p>
        </section>
-->

        <section id="estilos1">
          <p class="titulo">Package by feature</p>
          <img src="imgs/package-feature-1.png" />
        </section>


        <section id="estilos1">
          <p class="titulo resaltar">Organización Lógica</p>
          <ul class="arrow">
            <li class="fragment">Partición Horizontal: Segun cuestiones técnicas</li>
            <li class="fragment">Partición Vertical: Segun funcionalidad.</li>
            <li class="fragment">Partición Vertical: No confundir... No es una entidad y su CRUD. </li>
            <li class="fragment">Partición Vertical: Comprende un grupo de funcionalides relacionadas/cohesivas.</li>
            <li class="fragment">Por ejemplo: Login, authentication y authorization, Catálogo de Productos, Compras/Ventas, Ranking, Notificaciones, etc.</li>
          </ul>
        </section>

  <!--
        <section id="estilos1">
          <p class="titulochico">Package by feature y sub-feature</p>
          <img src="imgs/package-feature.png" />
        </section>
      -->
        <section id="estilos1">
          <p class="titulochico">Arquitectura Hexagonal (o ports and adapters)</p>
          <img src="imgs/package-hexagonal.png" />
        </section>

        <section id="estilos1">
          <p class="titulochico">Package by Component</p>
          <img src="imgs/package-component.png"/>
        </section>

        <!--
        <section id="mod">
          <h3>Estructuras de Módulos</h3>
          <p>
            ¿Por qué debemos partir una aplicacion en módulos? y ¿Por qué
            definir sus relaciones y respetarlas?
          </p>
          <p class="chicoYalineadoIzq fragment">
            Porque cuando hagamos un cambio tendremos noción de donde éste
            repercute.
          </p>
          <p class="chicoYalineadoIzq fragment">
            Porque de esa forma tenemos "pequeños sistemas" más simples. Mas
            simple implica más facil de modificar.
          </p>
        </section>

        <section id="mod">
          <h3>Estructuras de Módulos</h3>
          <img src="imgs/layer-modular-bigball.png" />
        </section>

        <section id="mod">
          <h3>Estructuras de Módulos</h3>
          <p>
            Antes dijimos que debíamos encontrar, en el lenguaje de programación
            que utilicemos, que abstracción (estructura sintáctica) podemos
            utilizar para crear éstas módulos o capas.
          </p>
          <p class="fragment">¿Cuáles son las opciones en Java?</p>
          <p class="fragment">
            Desde Java v1, los <u>paquetes</u>. Java v9 incorporó la
            construcción sintáctica <u>module</u>.
          </p>
        </section>

        <section id="mod">
          <h3>Estructuras de Módulos</h3>
          <p>¿Cuál es la diferencia entre módulos o capas?</p>
          <p class="fragment">
            Cuando hablamos de <b>capas</b>, hablamos de una
            <u>partición horizontal</u> del sistema, segun cuestiones técnicas.
          </p>
          <p class="fragment">
            Cuando hablamos de <b>módulos</b>, hablamos de abstracciones que
            agrupan clases con el propósito de <u>reutilización</u> o para
            <u>partir verticalmente</u> una aplicación.
          </p>
        </section>

        <section id="mod">
          <h3>Estructuras de Módulos</h3>
          <p class="fragment">
            En aplicaciones simples alcanza con una partición horizontal.
          </p>
          <p class="fragment">
            En aplicaciones que preveemos serán complejas necesitamos
            necesariamente partición vertical.
          </p>
        </section>

        <section id="mod">
          <p>Alternativa al estilo de arquitectura en Capas</p>
          <p class="resaltar fragment">
            Arquitectura Hexagonal (o Ports & Adapters)
          </p>
          <p class="fragment">
            Creada por
            <a href="https://alistair.cockburn.us/hexagonal-architecture/"
              >Alistair Cockburn</a
            >
          </p>
          <img class="fragment" src="imgs/hex-original.png" />
        </section>

        <section id="mod">
          <p class="resaltar">Arquitectura Hexagonal</p>
          <img src="imgs/capas-invertida.png" />
        </section>

        <section id="mod">
          <p class="resaltar">Estructuras de Módulos: Ejemplo</p>
          <img width="678" height="518" src="imgs/modular-monolith-hex.png" />
        </section>

        <section id="mod">
          <p class="resaltar">Separación Lógica vs Física</p>
          <p class="chicoYalineadoIzq fragment" data-fragment-index="1">
            <u>Lógica</u>: Mismo espacio de memoria, puedo importar sus clases,
            invocar métodos (in-process).
          </p>
          <p class="chicoYalineadoIzq fragment" data-fragment-index="3">
            <u>Física</u>: Distinto espacio de memoria, invocación
            inter-process.
          </p>
          <img
            class="fragment"
            src="imgs/logical-design.png"
            data-fragment-index="2"
          />
        </section>

        <section id="mod">
          <p class="resaltar">
            Separación Lógica vs Física: <u>Verificación</u>
          </p>
          <p class="fragment">Java9 mejora este problema:</p>
          <pre
            class="fragment"
          ><code data-trim data-noescape>module radioa.competition {
  exports competition.model.api;
  //only for injection
  exports competition.model to radioa.main;
  exports competition.persistence to radioa.main;
  //others requires
  requires java.sql;
  ...
}</code></pre>
        </section>

        <section id="mod">
          <p class="resaltar">
            Separación Lógica vs Física: <u>Verificación</u>
          </p>
          <p class="fragment">
            ArchUnit nos ayuda a detectar dependencias inválidas:
          </p>
          <pre class="fragment"><code data-trim data-noescape>@Test
public void packageApiOfCOnlyDependOnItOrJdk() {
 JavaClasses jc = new ClassFileImporter()
  .importPackages("apiofc", "c", "a", "apiofa"...);
 classes().that()
  .resideInAnyPackage("apiofc")
  .should()
  .onlyDependOnClassesThat()
  .resideInAnyPackage("apiofc","java..")
  .check(jc);
}</code></pre>
        </section>
-->
        <!-- Arquitecturas Distribuidas -->

        <!-- Atributos de Calidad -->

        <!--       <section id="atri">
        <div class="box2">Atributos de Calidad</div>
      </section>

      <section id="atri">
        <p>¿Qué son los Atributos de Calidad?</p>
        <p>Propiedades medibles y testeables de los sistemas que son utilizadas para entender cuan bien los sistemas satisfacen las necesidades de los stakeholders.</p>
      </section>

      <section id="atri">
        <p>Ya hemos hablando mucho sobre <u>Modificabilidad</u></p>
        <p>Con elementos de software a nivel componente (contenedor) tambien tengo modificabilidad. Ej: API Gateway</p>
      </section>

      <section id="atri">
        <div class="box2">Disponibilidad</div>
      </section>

      <section id="atri">
        <p class="titulo">¿Qué significa Disponibilidad?</p>
        <p class="fragment">Un sistema está <u>disponible</u> si al recibir una petición responde de acuerdo a lo especificado.</p>
      </section>

      <section id="atri">
        <p class="titulo">¿Cómo se define la disponibilidad de un sistema?</p>
        <p class="fragment">La disponibilidad se define como la <u>probabilidad</u> de que un sistema este en funcionamiento en un momento dado.</p>
        <p class="fragment">¿Por qué?</p>
        <p class="fragment">No hay forma de saber de antemano cuando los elementos de un sistema dejaran de funcionar.</p>
      </section>

      <section id="atri">
        <p class="titulo">¿Cómo se define la disponibilidad de un sistema?</p>
        <p class="fragment">Para especificar la disponibilidad de un sistema se utiliza la <u>notación de nueves</u>.</p>
        <p class="fragment">Si decimos que un sistema tiene 99.9% de disponibilidad, lo que realmente estoy diciendo es que en un año podría estar 8,76 horas no disponible.</p>
      </section>

      <section id="atri">
        <p class="titulo">¿Cómo se define la disponibilidad de un sistema?</p>
        <p class="fragment"> ¿Cómo llego a ese resultado?</p> 
        <p class="fragment"> 99.9 / 100 = 0,999. Multiplicando 365 * 0.999 = 364,635, obtengo la cantidad de días en el año en los que el sistema estará disponible. O sea que no estará disponible 365 - 364,635 = 0,365 días en el año. Si hacemos 0,365 * 24 obtenemos 8,76 horas al año no disponible.</p>
      </section>

      <section id="atri">
        <table>
          <tbody>
            <th>Disponibilidad</th>
            <th>9s</th>
            <th>No disponible</th>
          </tbody>
          <tbody>
            <tr><td>90%</td><td>un nueve</td><td>36,5 días/año</td></tr>
            <tr><td>99%</td><td>dos nueves</td><td>3,65 días/año</td></tr>
            <tr><td>99,9%</td><td>tres nueves</td><td>8,76 horas/año</td></tr>
            <tr><td>99,99%</td><td>cuatro nueves</td><td>52 minutos/año</td></tr>
            <tr><td>99,999%</td><td>cinco nueves</td><td>5 minutos/año</td></tr>
            <tr><td>99,9999%</td><td>seis nueves</td><td>31 segundos/año</td></tr>
          </tbody>
        </table>
        <p class="fragment">Se considera <u>Alta Disponibilidad</u> cinco nueves o mas</p>
      </section>

      <section id="atri">
        <p class="titulo">¿Cómo se calcula la disponibilidad de un sistema?</p>
        <p class="fragment">Supongamos, dada la siguiente configuración física:</p>
          <img class="fragment" src="imgs/radioa-deploy1.png"/> 
          <p class="fragment">¿Qué disponibilidad tiene?</p>
      </section>

      <section id="atri">
          <p class="titulo">Cálculo de disponibilidad</p>
          <p class="fragment">Primero es necesario calcular la disponibilidad de cada elemento por separado. ¿Cómo se hace?</p>
          <p class="fragment">
            \[\begin{aligned}
            \frac{MTBF}{MTBF + MTTR}
            \end{aligned} \]
          </p>  
          <p class="fragment">MTBF: Tiempo transcurrido entre dos fallas. MTTR: promedio de tiempo en repararlo. Ambos representados en horas.</p>
      </section>
  
        <section id="atri">
          <p class="titulo">Cálculo de disponibilidad</p>
          <p class="fragment">¿Cómo sé cual es el MTBF y el MTTR de un elemento?</p>
          <p class="fragment">El MTBF, para los <u>elementos de HW</u>: el fabricante o proveedor. Se rigen por la curva <a href="https://en.wikipedia.org/wiki/Bathtub_curve">bathtub</a>.</p>
          <p class="fragment">El MTTR, para los <u>elementos de HW</u>: de nuestro equipo de operaciones (o AWS o proveedor). ¿Cuanto tarda en reemplazar una placa de red? ¿un disco? ¿memoria?.</p>
        </section>

        <section id="atri">
          <p class="titulo">Cálculo de disponibilidad</p>
          <p class="fragment">¿Cómo sé cual es el MTBF y el MTTR de un elemento?</p>
          <p class="fragment">El MTBF, para los <u>elementos de software</u>: Mediante la observación (no es facil sobre todo en software que incrementan su funcionalidad con frecuencia). </p>
          <p class="fragment">El MTTR, para los <u>elementos de software</u>: Equipo de desarrollo.</p>
        </section>

        <section id="atri">
          <p class="titulo">Cálculo de disponibilidad</p>
          <p class="fragment">¿Cómo sé cual es el MTBF y el MTTR de un elemento?</p>
          <p class="fragment"><a href="https://www.amazon.com/Availability-Network-Fundamentals-Chris-Oggerino/dp/1587130173">Cisco</a> asume 10.000 horas de MTBF para productos con recientes cambios o nuevas funcionalidades, y 30.000 horas de MTBF para productos sin cambios</p>
          <p class="fragment">MTTR de 0.1 horas (6 minutos en reiniciar). Reiniciar porque asume problemas de leaks de memoria, no bugs funcionales.</p>
        </section>
      
        <section id="atri">
          <p class="titulo">Cálculo de disponibilidad</p>
          <img src="imgs/radioa-deploy1.png"/> 
          <p class="fragment">Sabiendo como calcular la disponibilidad de cada elemento: ¿Cómo cálculo la de este sistema?</p>
        </section>
         
      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="fragment">Si un elemento falla, ¿el sistema entero falla?</p> 
        <p class="fragment">Entonces, multiplico la disponibilidad de sus elementos. Se denomina: <u>Configuración en Serie</u></p> 
        <p class="maschico fragment">
        \[\begin{aligned}
        Disponibilidad \ en \ Serie = \displaystyle \prod_{i=1}^{n} disponibilidadElemento
        \end{aligned} \]
        </p>
        <p class="chico fragment"> Donde <span class="itali">n</span> es el número total de elementos e <span class="itali">i</span> el i-ésimo elemento</p>. 
      </section>

      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="maschicoYalineadoIzq">
          \[\begin{aligned}
          \textbf{Application Server}\;\textrm{(node-a1)}&=\frac{50000}{50000 + 8} = 0,999840026 \\
          &\textrm{(Asumimos 50.000 horas de MTBF y 8 horas de MTTR)}.
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{Ubuntu v20}\;\textrm{(node-a1)}&=\frac{30000}{30000 + 0.1} = 0,999996667 \\
          &\textrm{(Asumimos 30.000 horas de MTBF y 0.1 horas MTTR)}.
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{Jetty/JVM v11}\;\textrm{(node-a1)}&=\frac{30000}{30000 + 0.1} = 0,999996667 \\
          &\textrm{(Asumimos 30.000 horas de MTBF y 0.1 horas de MTTR)}.
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{RadioA}\;\textrm{(Java Swing App)}&=\frac{20000}{20000 + 0.1} = 0,999995 \\
          &\textrm{(Asumimos 20.000 horas de MTBF y 0.1 horas of MTTR)}.
          \end{aligned} \]
        </p>
      </section>

      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="maschicoYalineadoIzq">
          \[\begin{aligned}
          \textbf{Database Server}\;\textrm{(node-b1)}&=\frac{50000}{50000 + 8} = 0,999840026 \\
          &\textrm{(Asumimos 50.000 horas de MTBF y 8 horas de MTTR)}.
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{Ubuntu v20}\;\textrm{(node-b1)}&=\frac{30000}{30000 + 0.1} = 0,999996667 \\
          &\textrm{(Asumimos 30.000 horas de MTBF y 0.1 horas MTTR)}.
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{PostgreSQL v12}\;\textrm{(node-b1)}&=\frac{30000}{30000 + 0.1} = 0,999996667 \\
          &\textrm{(Asumimos 30.000 horas de MTBF y 0.1 horas MTTR)}.
          \end{aligned} \]
        </p>
      </section>

      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="maschicoYalineadoIzq">
          \[\begin{aligned}
          \textbf{Disponibilidad(app server)}\; &= 0,999840026\;\textrm{(node-a1)} \\
          &\times\;0,999996667\;\textrm{(Ubuntu v20)} \\
          &\times\;0,999996667\;\textrm{(Jetty/JVM v11)} \\
          &\times\;0,999995\;\textrm{(RadioA App)} \\
          &=\;0,999828362
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{Disponibilidad (db server)}\; &= 0,999840026\;\textrm{(node-b1)} \\
          &\times\;0,999996667\;\textrm{(Ubuntu v20)} \\
          &\times\;0,999996667\;\textrm{(PostgreSQL)} \\
          &=\;0,999833361
          \end{aligned} \]
          \[\begin{aligned}
          \textbf{Disponibilidad del Sistema}\; &= 0,999828362\;\textrm{(app server)} \\
          &\times\;0,999833361\;\textrm{(db server)} \\
          &=\;0,999661752 \times \; 100 \; = \; 99,97\%
          \end{aligned} \]
        </p>
      </section>      

      <section id="atri">
        <p class="titulo">Disponibilidad</p>
        <p class="fragment">99,97% de disponibilidad. Estoy <u>muy lejos</u> de <strong>Alta Disponibilidad</strong> (cinco 9s)</p> 
        <p class="fragment">Para alcanzar alta disponibilidad necesito eliminar los <u>Unicos Puntos de Falla</u></p>
        <p class="fragment">No hay otra opción que tener <u>redundancia</u></p>
      </section>

      <section id="atri">
        <p class="titulo">¿Así elimino los unicos puntos de falla?</p>
        <img src="imgs/radioa-deploy2-1.png" /> 
        <p class="fragment">No!</p>
      </section>

      <section id="atri">
        <p class="titulo">Elimando los Únicos Puntos de Falla</p>
        <img width="690" height="405" src="imgs/radioa-deploy3.png" /> 
      </section>

      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="fragment">Cuando hay elementos redundantes, la fórmula cambia y se denomina: <u>Configuración en paralelo</u>.</p> 
        <p class="chico fragment">
        \[\begin{aligned}
        \displaystyle 1 - [\prod_{i=1}^{n} (1 - disponibilidadElemento)]
        \end{aligned} \]
        </p>
        <p class="fragment">Calculemos ahora la disponibilidad de la nueva configuración redundante</p>
      </section>

      <section id="atri">
        <p class="titulo">Cálculo de disponibilidad</p>
        <p class="maschicoYalineadoIzq">
          \[\begin{aligned}
          \textbf{Availability (app server)} &= 1 - (1 - 0,999828362)\times(1 - 0,999828362) \\
          &= 1 - (0,000171638 \times 0,000171638) \\
          &= 1 - 0,000000029 \\
          &= 0,999999971 \times 100 = 99,99999\%
          \end{aligned} \]
      
          \[\begin{aligned}
          \textbf{Availability (bd server)} &= 1 - (1 - 0,999833361)\times(1 - 0,999833361) \\
          &= 1 - (0,000166639 \times 0,000166639) \\
          &= 1 - 0,000000028 \\
          &= 0,999999972 \times 100 = 99,99999\%
          \end{aligned} \]

          \[\begin{aligned}
          \textbf{System Availability} &= 0,999999971 \; (app\;server) \\
          &\times  0,999999972 \; (db\;server) \\
          &= 0,999999943 \times 100 = 99,99999\%
          \end{aligned} \]
        </p>
      </section>
      
      <section id="atri">
        <div class="box2">Escalabilidad</div>
      </section> -->

        <!--       https://aws.amazon.com/es/blogs/apn/the-6-pillars-of-the-aws-well-architected-framework/ -->
        <!-- https://blog.devgenius.io/top-10-architecture-characteristics-non-functional-requirements-with-cheatsheat-7ad14bbb0a9b -->

        <!-- en escalabilidad puedo poner el grafico del libro de alex yu de feed -->

        <!-- 
        https://blog.devgenius.io/top-10-architecture-characteristics-non-functional-requirements-with-cheatsheat-7ad14bbb0a9b
       -->

        <!-- goglear diagramas de arquitectura en google para mostrar la diversidad de cosas, con colores y formas que no dicen nada -->
        <!-- Common sense of abstracionts is more important than a common notation -->
        <!-- cuando abro los fuentes, espero ver BIEN claro esta definicion en el codigo. Model-code gap, no quiero -->

        <!-- Screaming the architecture !!!! -->
        <!--
        Modificabilidad: Utilizar un layeres ayuda a nivel codigo. Utilizar un API Gateway tambien, proque podria cambiar el backend final, sin afectar la aplicacion cliente.
      -->

        <!-- News Feed System de Alex Xu -->

        <!--
        <section id="ghi">Slide 2</section>
        <section id="ghi1">Slide 2</section>
        <section id="ghi1">Slide 2</section>
        <section id="ghi1">Slide 2</section>-->
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/simplemenu/simplemenu.js"></script>
    <script src="plugin/relativenumber/relativenumber.js"></script>
    <script src="plugin/math/math.js"></script>
    <script>
      window.onload = function () {
        let today = new Date().toLocaleDateString();
        let obj = document.getElementById("hoy");
        document.getElementById("hoy").innerText = today;
      };

      Reveal.addEventListener("slidechanged", function (event) {
        if (event.indexh > 0) {
          document.querySelector(".reveal .footer").style.display = "block";
        } else {
          document.querySelector(".reveal .footer").style.display = "none";
        }
      });

      Reveal.addEventListener("ready", function (event) {
        if (event.indexh === 0)
          document.querySelector(".reveal .footer").style.display = "none";
      });

      Reveal.initialize({
        hash: true,
        slideNumber: "c/t",
        /*         width: 1920,
              height: 1080, */
        //slideNumber: true,
        // Learn about plugins: https://revealjs.com/plugins/
        /*dependencies: [
        {
          src: "plugin/title-footer/title-footer.js",
          async: true,
          callback: function () {
            console.log(document.title);
            title_footer.initialize(document.title);
          },
        },
      ],*/

        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealNotes,
          RelativeNumber,
          Simplemenu,
          RevealMath.KaTeX,
        ],
      });
    </script>
  </body>
</html>
